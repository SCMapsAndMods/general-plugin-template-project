#summary GPTP에 내장된 기초적인 텍스트 로그 파일 기능에 대해 설명합니다.

헤더 파일: <tt>[http://code.google.com/p/gptp/source/browse/trunk/GPTP/src/logger.h logger.h]</tt>

= 개요 =

GPTP v2.41부터는 로그 파일에 텍스트를 저장하는 간단한 기능이 제공된다. 이 기능을 활용하여 플러그인의 오류를 찾아내고 게임에 대한 정보를 기록할 수 있다.

= 사용법 =

로그 기능을 사용하려면 아래의 코드를 소스 파일의 맨 위에 추가해야 한다:
{{{
#include <logger.h>
}}}

그러면 `GPTP::logger` 객체를 사용할 수 있게 된다. 이 객체는 C++의 표준 출력 스트림(`cout`)처럼 사용할 수 있다:

{{{
GPTP::logger << "로그 텍스트입니다" << std::endl;
GPTP::logger << unit->getName() << "의 현재 위치는 ("
             << unit->getX() << ", " << unit->getY() << ")\n";
}}}

플러그인이 스타크래프트 내부에서 실행되면 현재 폴더에 `.log`로 끝나는 이름의 텍스트 파일이 생성되며, 여기에 모든 로그 텍스트가 기록된다. 연속으로 여러 게임을 할 경우 같은 파일에 계속 기록되지만, 스타크래프트를 종료하고 다시 실행하면 그때부터 새로운 파일에 기록된다.

로그 파일은 일반적으로 다음과 같은 모습이다:

{{{
Game started on Tue Feb 18 16:49:11 2014

Frame 0:
로그 텍스트입니다
Terran Marine의 현재 위치는 (252, 793)

Frame 1:
로그 텍스트입니다
Terran Marine의 현재 위치는 (254, 798)

...

Game ended on Tue Feb 18 17:07:31 2014
}}}

GPTP는 자동으로 현재 프레임 번호와 게임이 시작된 시점과 종료된 시점을 기록한다.

= 로그 기능을 끄는 법 =

플러그인을 모두 테스트한 이후에는 로그 명령어를 일일이 지우지 않고 프로젝트를 Release 모드에서 빌드하면 된다. 이 상태에서는 `GPTP::logger`를 사용해도 로그 파일이 만들어지지 않는다.

Debug 모드에서 로그 기능을 끄려면 `logger.h`의 7번 줄에 있는 다음의 코드를 지우면 된다:

{{{
#define GPTP_LOGGING_ENABLED
}}}

= 기술적인 사항 =

`GPTP::logger`는 내부적으로 C++의 파일 출력 스트림(`std::ofstream`) 객체를 사용해서 로그 파일을 작성한다.
